# ETL-пайплайн для сбора и структурирования данных из внешних источников

## Описание
Этот сервис предоставляет ETL-пайплайн для сбора и структурирования данных из внешних источников:

- данные финансовых продуктов
- пользовательские отзывы

## Основные компоненты
- **extractor_microloans**: парсер данных финансовых продуктов
- **extractor_finrating**: парсер пользовательских отзывов
- **pipeline**: создание таблиц, запуск парсеров и вставка данных в БД
- **models**: определение классов-таблиц (ORM)
- **utils**: логер для парсеров


## Переменные окружения

Для работы с PostreSQL:

| Переменная           |  Тип  |        Значение по умолчанию          | Комментарий                                                      |
| -------------------- | ----- | :-----------------------------------: | ---------------------------------------------------------------- |
| DATABASE_URL              | `str` | `postgresql+psycopg2://postgres:postgres@postgres:5432/credistory` | URL для доступа к базе данных                                                 |
| POSTGRES_USER   | `str` |   `postgres`   | Пользователь            |
| POSTGRES_PASSWORD | `str` |  `postgres`  | Пароль |
| POSTGRES_DB             | `str` |      `credistory`                 |        название БД                                |

## Запуск

1. Выполните создание общей сети
   ```bash
   docker network create extractor-network
   ```
3. Выполните сборку и запуск контейнера
   ```bash
   docker compose up --build -d
   ```
4. Для просмотра логов сервиса extractor в real-time
    ```bash
    docker compose logs -f extractor
    ```
